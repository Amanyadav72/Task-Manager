{% extends 'layout.html' %}
{% block content %}

<h2>Add a Task</h2>
<form action="/add" method="POST">
    <input type="text" name="task" placeholder="Enter task" required>
    <input type="date" name="deadline" required>
    <button type="submit">Add Task</button>
</form>

<h2>Tasks</h2>
<table>
    <tr>
        <th>Task</th>
        <th>Deadline</th>
        <th>Status</th>
        <th>Actions</th>
    </tr>
    {% for t in tasks %}
    <tr>
        <td>{{ t.task }}</td>
        <td>{{ t.deadline }}</td>
        <td>{{ "✅ Done" if t.done else "❌ Pending" }}</td>
        <td>
            {% if not t.done %}
                <a href="/complete/{{ loop.index0 }}">Mark Done</a>
            {% endif %}
            <a href="/delete/{{ loop.index0 }}">Delete</a>
        </td>
    </tr>
    {% endfor %}
</table>

{% endblock %}
